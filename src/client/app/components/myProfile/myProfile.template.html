<div class="signuppanel">

    <div class="col-sm-6 col-sm-offset-3">
        <form name="registerForm" style="background-color: white">
            <fieldset ng-disabled="!isEditting">
                <div class="row">
                    <div class="col-sm-9">
                        <div class="row">
                            <h2 class="nomargin"><b><u>{{model.fullName}}</u></b></h2>
                        </div>
                        <br>
                        <div class="row">
                            <a href="#">{{model.email}}</a>
                        </div>
                        <br>
                    </div>
                    <form class="form-vertical">
                        <div class="col-sm-3">
                            <div class="row">
                                <img ng-src="/config/media/{{model.username}}?{{randomNumImg}}" alt="Mountain View"
                                     style="width:100px;height:120px;" class="pull-right">
                            </div>
                            <div class="row">
                                <a type="file" ngf-select="uploadFiles($file, $invalidFiles)"
                                        accept="image/*" ngf-max-height="1000" ngf-max-size="1MB" class="pull-right">
                                    Change Avatar
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Username</b></label>
                        <input class="form-control" type="text" ng-model="model.username">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Birthday</b></label>
                        <div class="input-group">
                            <input type="text" class="form-control"
                                   uib-datepicker-popup="{{format}}"
                                   is-open="calendarPicker.opened"
                                   datepicker-options="dateOptions"
                                   ng-model="model.birthday"
                                   close-text="Close"
                                   alt-input-formats="altInputFormats">
                            <span class="input-group-addon" style="height: 40px">
                                   <i class="glyphicon glyphicon-calendar" ng-click="openCalendar()"></i>
                                </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Register Date</b></label>
                        <div class="input-group">
                            <input type="text" class="form-control" uib-datepicker-popup="{{format}}"
                                   datepicker-options="dateOptions" ng-required="true"
                                   ng-model="model.registeredDate"
                                   close-text="Close" alt-input-formats="altInputFormats" readonly>
                            <span class="input-group-addon" style="height: 40px">
                                   <i class="glyphicon glyphicon-calendar"></i>
                                </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Expried Date</b></label>
                        <input class="form-control" type="text"  uib-datepicker-popup="{{format}}" ng-model="model.expiredDate" readonly>
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Cell phone</b></label>
                        <input class="form-control" type="text" ng-model="model.cellphone">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Passport ID</b></label>
                        <input class="form-control" type="text" ng-model="model.nationalId">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Address</b></label>
                        <input class="form-control" type="text" ng-model="model.address">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>City</b></label>
                        <input class="form-control" type="text" ng-model="model.city">
                    </div>
                </div>
                <div class="row">
                    <country-state country="model.country" state="model.state"></country-state>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Postcode</b></label>
                        <input class="form-control" type="text" ng-model="model.postcode">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Profession</b></label>
                        <input class="form-control" type="text" ng-model="model.profession">
                    </div>
                </div>
                <br>
                <div class="row">
                    <h3>Bank Account</h3>
                </div>
                <br>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Account Name</b></label>
                        <input class="form-control" type="text" ng-model="model.bankAccountName">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Account Number</b></label>
                        <input class="form-control" type="text" ng-model="model.bankAccountNumber">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Bank</b></label>
                        <input class="form-control" type="text" ng-model="model.bankName">
                    </div>
                </div>
                <div class="row">
                    <div class="mb10">
                        <label class="control-label"><b>Country</b></label>
                        <input class="form-control" type="text" ng-model="model.bankCountry">
                    </div>
                </div>
                <div ng-if="isEditting">
                    <br>
                    <div class="row">
                        <h3>Change Password</h3>
                    </div>
                    <br>
                    <div class="row">
                        <div class="mb10">
                            <label class="control-label"><b>Current Password</b></label>
                            <input class="form-control" type="password" ng-model="model.currentPwd">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb10" data-ng-class="{'has-error' : registerForm.password.$invalid && !registerForm.password.$pristine}">
                            <label class="control-label"><b>New Password</b></label>
                            <input class="form-control" type="password" name="password" data-ng-model="model.newPwd" ng-minlength="8">
                            <p ng-show="registerForm.password.$error.minlength" class="help-block">Username is too short.</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb10" data-ng-class="{'has-error' : registerForm.passwordCompare.$invalid && !registerForm.passwordCompare.$pristine}">
                            <label class="control-label"><b>Re-enter Password</b></label>
                            <input class="form-control" type="password" name="passwordCompare" data-ng-model="model.passwordCompare" data-ng-match="model.newPwd"/>
                            <span class="help-block" data-ng-show="registerForm.passwordCompare.$error.match">Passwords do not match.</span>
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="panel-footer">
                <button class="btn btn-success center-block" ng-click="changeStateToEdit()" ng-if="!isEditting">EDIT
                </button>
                <button class="btn btn-success center-block" ng-click="saveUserInfo()" ng-if="isEditting">SAVE
                </button>
            </div>
        </form>
    </div>

</div>

